$schema: http://json-schema.org/draft-04/schema#

definitions:
  # k8s Service max == 63, currently we do service name + "---"+private
  # component name for naming k8s Service used for private components. Because
  # Reasons this needs to be copy/pasted, but leaving it here for documentation
  # purposes:
  name_pattern: "^[a-zA-Z][-a-zA-Z0-9]{0,29}$"

  cluster:
    type: object
    properties:
      master:
        type: object
        properties:
          size:
            type: string
            enum:
              - t2.nano
              - t2.micro
              - t2.small
              - t2.medium
              - t2.large
              - t2.xlarge
              - t2.2xlarge
              - m3.medium
              - m4.large
              - m4.xlarge
              - m4.2xlarge
              - m4.4xlarge
              - m4.10xlarge
              - m4.16xlarge

      nodes:
        type: object
        properties:
          size:
            type: string
            enum:
              - t2.nano
              - t2.micro
              - t2.small
              - t2.medium
              - t2.large
              - t2.xlarge
              - t2.2xlarge
              - m3.medium
              - m4.large
              - m4.xlarge
              - m4.2xlarge
              - m4.4xlarge
              - m4.10xlarge
              - m4.16xlarge
          nodeCount:
            type: integer

title: Kubefile
type: object
properties:
  Kubefile-version:
    type: integer
    enum: [1]
  cluster:
    $ref: "#/definitions/cluster"
additionalProperties: false
required: ["Kubefile-version", "cluster"]
